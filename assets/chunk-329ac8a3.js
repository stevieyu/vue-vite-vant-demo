import{n as A,q as I,d as n,$ as H,K as U,v as N,a0 as K,O as J,x as D,H as C,J as L,e as V,W,g as P,P as Z,y as B,a1 as O,h as G,a2 as Q,a3 as X,R as ee,N as te,a4 as z,a5 as ne,S as ae,a6 as re,o as w,k as R,w as k,z as oe,A as ie,b as T,C as ce,Z as le,c as $,a as se,F as E,B as de,a7 as F,t as ue}from"./app-284bdf0e.js";import{I as Y,a as fe,S as me,P as he,r as ge,c as ve}from"./chunk-d48f08a9.js";const[_e,M]=A("tag"),be={size:String,mark:Boolean,show:U,type:N("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var xe=I({name:_e,props:be,emits:["close"],setup(e,{slots:t,emit:i}){const f=l=>{l.stopPropagation(),i("close",l)},m=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},h=()=>{var l;const{type:b,mark:d,plain:a,round:g,size:u,closeable:v}=e,r={mark:d,plain:a,round:g};u&&(r[u]=u);const o=v&&n(J,{name:"cross",class:[M("close"),K],onClick:f},null);return n("span",{style:m(),class:M([r,b])},[(l=t.default)==null?void 0:l.call(t),o])};return()=>n(H,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?h():null]})}});const j=D(xe),[pe,s]=A("card"),Se={tag:String,num:L,desc:String,thumb:String,title:String,price:L,centered:Boolean,lazyLoad:Boolean,currency:N("\xA5"),thumbLink:String,originPrice:L};var ke=I({name:pe,props:Se,emits:["clickThumb"],setup(e,{slots:t,emit:i}){const f=()=>{if(t.title)return t.title();if(e.title)return n("div",{class:[s("title"),"van-multi-ellipsis--l2"]},[e.title])},m=()=>{if(t.tag||e.tag)return n("div",{class:s("tag")},[t.tag?t.tag():n(j,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},h=()=>t.thumb?t.thumb():n(Y,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),l=()=>{if(t.thumb||e.thumb)return n("a",{href:e.thumbLink,class:s("thumb"),onClick:a=>i("clickThumb",a)},[h(),m()])},b=()=>{if(t.desc)return t.desc();if(e.desc)return n("div",{class:[s("desc"),"van-ellipsis"]},[e.desc])},d=()=>{const a=e.price.toString().split(".");return n("div",null,[n("span",{class:s("price-currency")},[e.currency]),n("span",{class:s("price-integer")},[a[0]]),V("."),n("span",{class:s("price-decimal")},[a[1]])])};return()=>{var a,g,u;const v=t.num||C(e.num),r=t.price||C(e.price),o=t["origin-price"]||C(e.originPrice),c=v||r||o||t.bottom,x=r&&n("div",{class:s("price")},[t.price?t.price():d()]),p=o&&n("div",{class:s("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),S=v&&n("div",{class:s("num")},[t.num?t.num():`x${e.num}`]),_=t.footer&&n("div",{class:s("footer")},[t.footer()]),q=c&&n("div",{class:s("bottom")},[(a=t["price-top"])==null?void 0:a.call(t),x,p,S,(g=t.bottom)==null?void 0:g.call(t)]);return n("div",{class:s()},[n("div",{class:s("header")},[l(),n("div",{class:s("content",{centered:e.centered})},[n("div",null,[f(),b(),(u=t.tags)==null?void 0:u.call(t)]),q])]),_])}}});const Te=D(ke),ye=Symbol(),we=()=>W(ye,null),[Pe,y,Be]=A("list"),Ce={error:Boolean,offset:ee(300),loading:Boolean,finished:Boolean,errorText:String,direction:N("down"),loadingText:String,finishedText:String,immediateCheck:U};var Le=I({name:Pe,props:Ce,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:i}){const f=P(!1),m=P(),h=P(),l=we(),b=Z(m),d=()=>{te(()=>{if(f.value||e.finished||e.error||(l==null?void 0:l.value)===!1)return;const{offset:r,direction:o}=e,c=z(b);if(!c.height||ne(m))return;let x=!1;const p=z(h);o==="up"?x=c.top-p.top<=r:x=p.bottom-c.bottom<=r,x&&(f.value=!0,t("update:loading",!0),t("load"))})},a=()=>{if(e.finished){const r=i.finished?i.finished():e.finishedText;if(r)return n("div",{class:y("finished-text")},[r])}},g=()=>{t("update:error",!1),d()},u=()=>{if(e.error){const r=i.error?i.error():e.errorText;if(r)return n("div",{role:"button",class:y("error-text"),tabindex:0,onClick:g},[r])}},v=()=>{if(f.value&&!e.finished)return n("div",{class:y("loading")},[i.loading?i.loading():n(ae,{class:y("loading-icon")},{default:()=>[e.loadingText||Be("loading")]})])};return B(()=>[e.loading,e.finished,e.error],d),l&&B(l,r=>{r&&d()}),O(()=>{f.value=e.loading}),G(()=>{e.immediateCheck&&d()}),Q({check:d}),X("scroll",d,{target:b}),()=>{var r;const o=(r=i.default)==null?void 0:r.call(i),c=n("div",{ref:h,class:y("placeholder")},null);return n("div",{ref:m,role:"feed",class:y(),"aria-busy":f.value},[e.direction==="down"?o:c,v(),a(),u(),e.direction==="up"?o:c])}}});const $e=D(Le);const Ee={__name:"VanListLoadMore",props:{path:{type:String,required:!0},search:{type:Object,default:null},map:{type:[Function,null],default:null}},setup(e){const t=e;let i=0;re(()=>{i=window.scrollY}),O(()=>{i>0&&window.scrollY!==i&&window.scrollTo(0,i)});const f=async o=>{const{path:c,search:x,map:p}=t;let{page:S}=o||{};S=S?S+1:1;let _=await ge(c,{page:S,...x});return p&&(_=_.map(p)),{list:_,page:S}},m=[];t.search&&m.push(t.search);const{dataList:h,refresh:l,loadMore:b,noMore:d,loading:a,error:g}=fe(f,{refreshDeps:m,refreshDepsAction:()=>r(),isNoMore:o=>{var c;return((c=o==null?void 0:o.list)==null?void 0:c.length)%10>0},manual:!0});let u=P(!1);B(a,o=>{!o&&u.value&&(u.value=!1)});let v=P(!1);B(g,o=>{o&&(v.value=!0)});const r=()=>{l(),i=0};return(o,c)=>{const x=me,p=$e,S=he;return w(),R(S,{modelValue:u.value,"onUpdate:modelValue":c[2]||(c[2]=_=>u.value=_),onRefresh:r},{default:k(()=>[n(p,{loading:T(a),"onUpdate:loading":c[0]||(c[0]=_=>le(a)?a.value=_:null),error:v.value,"onUpdate:error":c[1]||(c[1]=_=>v.value=_),finished:T(d),"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86","error-text":"\u8BF7\u6C42\u5931\u8D25\uFF0C\u70B9\u51FB\u91CD\u65B0\u52A0\u8F7D",onLoad:T(b)},{default:k(()=>[oe(n(x,{title:"",avatar:"",row:3},null,512),[[ie,(!T(h)||!T(h).length)&&!v.value]]),ce(o.$slots,"default",{list:T(h)})]),_:3},8,["loading","error","finished","onLoad"])]),_:3},8,["modelValue"])}}},Re={class:"flex justify-between items-center"},Ae=V(" API docs "),De={__name:"index",setup(e){const t=P({top:7});return ve.origin="https://dev.to/api",(i,f)=>{const m=de,h=Y,l=j,b=Te;return w(),$(E,null,[se("div",Re,[n(m,{url:"https://developers.forem.com/api"},{default:k(()=>[Ae]),_:1})]),n(Ee,{path:"/articles",search:t.value},{default:k(({list:d})=>[(w(!0),$(E,null,F(d,a=>(w(),R(b,{onClick:g=>i.$router.push(`/posts/${a.id}`),key:a.title,desc:a.description,title:a.title},{thumb:k(()=>[n(h,{width:"5.5rem",height:"5.5rem",fit:"cover",src:a.cover_image?a.cover_image:""},null,8,["src"])]),tags:k(()=>[(w(!0),$(E,null,F(a.tag_list,g=>(w(),R(l,{key:g,class:"m-px",plain:"",type:"primary"},{default:k(()=>[V(ue(g),1)]),_:2},1024))),128))]),_:2},1032,["onClick","desc","title"]))),128))]),_:1},8,["search"])],64)}}};export{De as default};
