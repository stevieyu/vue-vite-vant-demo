import{g as d,h as l,l as r,j as p,o as i,c as u,_ as m,u as v,k as _,m as f}from"./app-f84edd7e.js";const j={__name:"videoJs",props:{src:{type:String,default:""}},setup(e){const n=e,a=d(null);let s=null;const c=()=>{const{videojs:t}=window,o={autoplay:!1,controls:!0,sources:[{src:n.src,type:"application/dash+xml"}]};s=t(a.value,o,()=>{s.log("onPlayerReady")})};return l(async()=>{r(["https://cdn.jsdelivr.net/npm/video.js@7.19.2/dist/video-js.min.css"],"videojscss"),await r(["https://cdn.jsdelivr.net/npm/video.js@7.19.2/dist/video.min.js"],"videojs"),r(["https://cdn.jsdelivr.net/npm/@videojs/http-streaming@2.14.2/dist/videojs-http-streaming.min.js"],"videojsother"),c()}),p(()=>{if(s){try{s.dispose()}catch{}s=null}}),(t,o)=>(i(),u("video",{class:"video-js vjs-16-9 vjs-big-play-centered",ref_key:"videoRef",ref:a,id:"video-player"},null,512))}},y={components:{wasmPlayer:j},setup(){const e="https://dash.akamaized.net/akamai/bbb_30fps/bbb_30fps.mpd";return{src:v().query.s||e}}};function h(e,n,a,s,c,t){const o=f("wasm-player");return i(),_(o,{src:s.src,class:"absolute inset-0"},null,8,["src"])}const k=m(y,[["render",h]]);export{k as default};
